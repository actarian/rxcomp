/**
 * @license rxcomp v1.0.0-beta.5
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("main",["rxjs","rxjs/operators"],e):e((t=t||self).rxjs,t.rxjs.operators)}(this,(function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=function(){},i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */function s(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var u=function(){},c=["constructor","rxcompId","onInit","onChanges","onDestroy","pushChanges","changes$","unsubscribe$"],p=function(t){function e(n,r){var o;return void 0===r&&(r={}),o=t.call(this)||this,r=e.mergeDescriptors(n,n,r),r=e.mergeDescriptors(Object.getPrototypeOf(n),n,r),Object.defineProperties(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o),r),o}return r(e,t),e.mergeDescriptors=function(t,e,n){void 0===n&&(n={});for(var r=Object.getOwnPropertyNames(t),o=function(){var o=r.shift();if(-1===c.indexOf(o)&&!n.hasOwnProperty(o)){var i=Object.getOwnPropertyDescriptor(t,o);"function"==typeof i.value&&(i.value=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e[o].apply(e,n)}),n[o]=i}};r.length;)o();return n},e}(u),f=function(){},l=0,h={},d={},v=function(){function n(){}return n.prototype.compile=function(t,e){var r,o=this;return n.querySelectorsAll(t,this.meta.selectors,[]).map((function(t){r&&r!==t.node&&(e=void 0);var n=o.makeInstance(t.node,t.factory,t.selector,e);return t.factory.prototype instanceof u&&(r=t.node),n})).filter((function(t){return t}))},n.prototype.makeInstance=function(r,o,i,s,c){var p=this;if(s||r.parentNode){var f=o.prototype instanceof u,l=o.meta;if(!(s=s||this.getParentInstance(r.parentNode)))return;var h,d=new(o.bind.apply(o,a([void 0],c||[]))),v=n.makeContext(this,d,s,r,o,i);Object.defineProperties(d,{changes$:{value:new t.BehaviorSubject(d),writable:!1,enumerable:!1},unsubscribe$:{value:new t.Subject,writable:!1,enumerable:!1}});var m=this;return d.pushChanges=function(){this.changes$.next(this),f&&(h?m.parse(r,d):setTimeout((function(){m.parse(r,d)}))),"function"==typeof d.onView&&d.onView()},l&&(this.makeHosts(l,d,r),v.inputs=this.makeInputs(l,d),v.outputs=this.makeOutputs(l,d)),"function"==typeof d.onInit&&d.onInit(),h=!0,s.changes$&&s.changes$.pipe(e.takeUntil(d.unsubscribe$)).subscribe((function(t){l&&p.resolveInputsOutputs(d,t),"function"==typeof d.onChanges&&d.onChanges(t),d.pushChanges()})),d}},n.prototype.makeContext=function(t,e,r,o){return n.makeContext(this,t,e,r,t.constructor,o)},n.prototype.makeFunction=function(t,e){if(void 0===e&&(e=["$instance"]),t){t=n.parseExpression(t);var r=e.join(",");return new Function("with(this) {\n\t\t\t\treturn (function ("+r+", $$module) {\n\t\t\t\t\tconst $$pipes = $$module.meta.pipes;\n\t\t\t\t\treturn "+t+";\n\t\t\t\t}.bind(this)).apply(this, arguments);\n\t\t\t}")}return function(){return null}},n.prototype.getInstance=function(t){if(t===document)return window;var e=g(t);return e?e.instance:void 0},n.prototype.getParentInstance=function(t){var e=this;return n.traverseUp(t,(function(t){return e.getInstance(t)}))},n.prototype.parse=function(t,e){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(1===r.nodeType)g(r)||this.parse(r,e);else 3===r.nodeType&&this.parseTextNode(r,e)}},n.prototype.parseTextNode=function(t,e){var n=this,r=t.nodeExpressions;r||(r=this.parseTextNodeExpression(t.nodeValue));var o=r.reduce((function(t,r){var o;return"function"==typeof r?null==(o=n.resolve(r,e,e))&&(o=""):o=r,t+o}),"");if(t.nodeValue!==o){var i=document.createTextNode(o);i.nodeExpressions=r,t.parentNode.replaceChild(i,t)}},n.prototype.parseTextNodeExpression=function(t){for(var e,n=[],r=/\{{2}((([^{}])|(\{([^{}]|(\{.*?\}))+?\}))*?)\}{2}/g,o=0,i=function(e,r){var o=t.substring(e,r);n.push(o)};null!==(e=r.exec(t));){var s=r.lastIndex-e[0].length;s>o&&i(s,o),o=r.lastIndex;var a=this.makeFunction(e[1]);n.push(a)}var u=t.length;return u>o&&i(o,u),n},n.prototype.resolve=function(t,e,n){return t.apply(e,[n,this])},n.prototype.makeHosts=function(t,e,n){t.hosts&&Object.keys(t.hosts).forEach((function(r){var o=t.hosts[r];e[r]=function t(e,n,r){r||(r=m(e).node);if(r.rxcompId){var o=d[r.rxcompId];if(o)for(var i=0;i<o.length;i++){var s=o[i];if(s.instance!==e&&s.instance instanceof n)return s.instance}}if(r.parentNode)return t(e,n,r.parentNode)}(e,o,n)}))},n.prototype.makeInput=function(t,e){var n,r=m(t).node,o=null;r.hasAttribute(e)?o='"'+r.getAttribute(e).replace(/({{)|(}})|(")/g,(function(t,e,n,r){return e?'"+':n?'+"':r?'"':void 0}))+'"':r.hasAttribute("["+e+"]")&&(o=r.getAttribute("["+e+"]"));return null!==o&&(n=this.makeFunction(o)),n},n.prototype.makeInputs=function(t,e){var n=this,r={};return t.inputs&&t.inputs.forEach((function(t,o){var i=n.makeInput(e,t);i&&(r[t]=i)})),r},n.prototype.makeOutput=function(n,r){var o=this,i=m(n),s=i.node,a=i.parentInstance,u=s.getAttribute("("+r+")"),c=this.makeFunction(u,["$event"]),p=(new t.Subject).pipe(e.tap((function(t){o.resolve(c,a,t)})));return p.pipe(e.takeUntil(n.unsubscribe$)).subscribe(),n[r]=p,c},n.prototype.makeOutputs=function(t,e){var n=this,r={};return t.outputs&&t.outputs.forEach((function(t,o){return r[t]=n.makeOutput(e,t)})),r},n.prototype.resolveInputsOutputs=function(t,e){var n=m(t),r=n.parentInstance,o=n.inputs;for(var i in o){var s=o[i],a=this.resolve(s,r,t);t[i]=a}},n.prototype.destroy=function(){this.remove(this.meta.node),this.meta.node.innerHTML=this.meta.nodeInnerHTML},n.prototype.remove=function(t,e){var r=e?m(e):void 0;return n.traverseDown(t,(function(t){var e=t.rxcompId;e&&(0===n.deleteContext(e,r).length&&delete t.rxcompId)})),t},n.parseExpression=function(t){for(var e=/(\()([^\(\)]*)(\))/;t.match(e);)t=t.replace(e,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"┌"+n.parsePipes(t[2])+"┘"}));return t=(t=n.parsePipes(t)).replace(/(┌)|(┘)/g,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1]?"(":")"})),n.parseOptionalChaining(t)},n.parsePipes=function(t){for(var e=/(.*?[^\|])\|([^\|]+)/;t.match(e);)t=t.replace(e,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[1].trim(),o=n.parsePipeParams(t[2]),i=o.shift().trim();return"$$pipes."+i+".transform┌"+a([r],o)+"┘"}));return t},n.parsePipeParams=function(t){for(var e=[],n=0,r="",o=0,i=t.length;n<i;){var s=t.substr(n,1);"{"!==s&&"("!==s&&"["!==s||o++,"}"!==s&&")"!==s&&"]"!==s||o--,":"===s&&0===o?(r.length&&e.push(r.trim()),r=""):r+=s,n++}return r.length&&e.push(r.trim()),e},n.parseOptionalChaining=function(t){var e;return t=t.replace(/(\w+(\?\.))+([\.|\w]+)/g,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t[0].split("?."),o=0;o<r.length-1;o++){var i=o>0?"("+r[o]+" = "+e+")":r[o],s=r[o+1];e=o>0?i+"."+s:"("+i+" ? "+i+"."+s+" : void 0)"}return e||""}))},n.makeContext=function(t,e,n,r,o,i){e.rxcompId=++l;var s={module:t,instance:e,parentInstance:n,node:r,factory:o,selector:i},a=r.rxcompId=r.rxcompId||e.rxcompId;return(d[a]||(d[a]=[])).push(s),h[e.rxcompId]=s},n.deleteContext=function(t,e){var n=[],r=d[t];return r&&(r.forEach((function(t){if(t===e)n.push(e);else{var r=t.instance;r.unsubscribe$.next(),r.unsubscribe$.complete(),"function"==typeof r.onDestroy&&(r.onDestroy(),delete h[r.rxcompId])}})),n.length?d[t]=n:delete d[t]),n},n.matchSelectors=function(t,e,n){for(var r=0;r<e.length;r++){var o=e[r](t);if(o){var i=o.factory;if(i.prototype instanceof u&&i.meta.template&&(t.innerHTML=i.meta.template),n.push(o),i.prototype instanceof f)break}}return n},n.querySelectorsAll=function(t,e,n){if(1===t.nodeType){var r=this.matchSelectors(t,e,[]);if(n=n.concat(r),r.find((function(t){return t.factory.prototype instanceof f})))return n;for(var o=t.childNodes,i=0;i<o.length;i++)n=this.querySelectorsAll(o[i],e,n)}return n},n.traverseUp=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseUp(t.parentNode,e,n+1)}},n.traverseDown=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);if(r)return r;if(1===t.nodeType)for(var o=0,i=t.childNodes.length;o<i&&!r;)r=this.traverseDown(t.childNodes[o],e,n+1),o++;return r}},n.traversePrevious=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traversePrevious(t.previousSibling,e,n+1)}},n.traverseNext=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseNext(t.nextSibling,e,n+1)}},n}();function m(t){return h[t.rxcompId]}function g(t){var e,n=d[t.rxcompId];return n&&(e=n.reduce((function(t,e){return e.factory.prototype instanceof u?e:e.factory.prototype instanceof p?t||e:t}),null)),e}var y=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.onInit=function(){var t=m(this),e=t.module,n=t.node.getAttribute("[class]");this.classFunction=e.makeFunction(n)},n.onChanges=function(t){var e=m(this),n=e.module,r=e.node,o=n.resolve(this.classFunction,t,this);for(var i in o)o[i]?r.classList.add(i):r.classList.remove(i)},e}(o);y.meta={selector:"[[class]]"};var b=function(n){function o(){return n.apply(this,arguments)||this}return r(o,n),o.prototype.onInit=function(){var n=m(this),r=n.module,o=n.node,i=n.parentInstance,s=n.selector,a=this.event=s.replace(/\[|\]|\(|\)/g,""),u=this.event$=t.fromEvent(o,a).pipe(e.shareReplay(1)),c=o.getAttribute("("+a+")");if(c){var p=r.makeFunction(c,["$event"]);u.pipe(e.takeUntil(this.unsubscribe$)).subscribe((function(t){r.resolve(p,i,t)}))}else i[a+"$"]=u},o}(o);b.meta={selector:"[("+["mousedown","mouseup","mousemove","click","dblclick","mouseover","mouseout","mouseenter","mouseleave","contextmenu","touchstart","touchmove","touchend","keydown","keyup","input","change","loaded"].join(")],[(")+")]"};var x=function(t){function e(e,n,r,o,i,s,a){var u;return(u=t.call(this,a)||this)[e]=n,u[r]=o,u.index=i,u.count=s,u}var o,i,s;return r(e,t),o=e,(i=[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}])&&n(o.prototype,i),s&&n(o,s),e}(p),w=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.onInit=function(){var t=m(this),e=t.module,n=t.node,r=this.forbegin=document.createComment("*for begin");r.rxcompId=n.rxcompId,n.parentNode.replaceChild(r,n);var o=this.forend=document.createComment("*for end");r.parentNode.insertBefore(o,r.nextSibling);var i=n.getAttribute("*for");n.removeAttribute("*for");var s=this.tokens=this.getExpressionTokens(i);this.forFunction=e.makeFunction(s.iterable),this.instances=[]},n.onChanges=function(t){for(var e=m(this),n=e.module,r=e.node,o=this.tokens,i=n.resolve(this.forFunction,t,this)||[],s=Array.isArray(i),a=s?i:Object.keys(i),u=a.length,c=this.instances.length,p=0;p<Math.max(c,u);p++)if(p<u){var f=s?p:a[p],l=s?a[f]:i[f];if(p<c){var h=this.instances[p];h[o.key]=f,h[o.value]=l}else{var d=r.cloneNode(!0);delete d.rxcompId,this.forend.parentNode.insertBefore(d,this.forend);var v=[o.key,f,o.value,l,p,u,e.parentInstance],g=n.makeInstance(d,x,e.selector,e.parentInstance,v),y=m(g);n.compile(d,y.instance),this.instances.push(g)}}else{var b=m(this.instances[p]).node;b.parentNode.removeChild(b),n.remove(b)}this.instances.length=a.length},n.getExpressionTokens=function(t){if(null===t)throw"invalid for";if(-1===t.trim().indexOf("let ")||-1===t.trim().indexOf(" of "))throw"invalid for";var e=t.split(";").map((function(t){return t.trim()})).filter((function(t){return""!==t})),n=e[0].split(" of ").map((function(t){return t.trim()})),r=n[0].replace(/\s*let\s*/,""),o=n[1],i="index",s=r.match(/\[(.+)\s*,\s*(.+)\]/);if(s&&(i=s[1],r=s[2]),e.length>1){var a=e[1].split(/\s*let\s*|\s*=\s*index/).map((function(t){return t.trim()}));3===a.length&&(i=a[1])}return{key:i,value:r,iterable:o}},e}(f);w.meta={selector:"[*for]"};var I=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.onChanges=function(t){m(this).node.setAttribute("href",this.href)},e}(o);I.meta={selector:"[[href]]",inputs:["href"]};var k=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.onInit=function(){var t=m(this),e=t.module,n=t.node,r=this.ifbegin=document.createComment("*if begin");r.rxcompId=n.rxcompId,n.parentNode.replaceChild(r,n);var o=this.ifend=document.createComment("*if end");r.parentNode.insertBefore(o,r.nextSibling);var i=n.getAttribute("*if");this.ifFunction=e.makeFunction(i);var s=n.cloneNode(!0);s.removeAttribute("*if"),this.clonedNode=s,this.node=s.cloneNode(!0)},n.onChanges=function(t){var e=m(this).module,n=e.resolve(this.ifFunction,t,this),r=this.node;n?r.parentNode||(this.ifend.parentNode.insertBefore(r,this.ifend),e.compile(r)):r.parentNode&&(e.remove(r,this),r.parentNode.removeChild(r),this.node=this.clonedNode.cloneNode(!0))},e}(f);k.meta={selector:"[*if]"};var S=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.onChanges=function(t){m(this).node.innerHTML=null==this.innerHTML?"":this.innerHTML},e}(o);S.meta={selector:"[innerHTML]",inputs:["innerHTML"]};var $=function(){function t(){}return t.transform=function(t){return t},t}(),N=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.transform=function(t){return JSON.stringify(t,null,"\t")},e}($);N.meta={name:"json"};var O=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.onChanges=function(t){m(this).node.setAttribute("src",this.src)},e}(o);O.meta={selector:"[[src]]",inputs:["src"]};var C=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.onInit=function(){var t=m(this),e=t.module,n=t.node.getAttribute("[style]");this.styleFunction=e.makeFunction(n)},n.onChanges=function(t){var e=m(this),n=e.module,r=e.node,o=n.resolve(this.styleFunction,t,this);for(var i in o)r.style.setProperty(i,o[i])},e}(o);C.meta={selector:"[[style]]"};var j=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(v),A=[y,b,w,I,k,S,O,C],P=[N];j.meta={declarations:[].concat(A,P),exports:[].concat(A,P)};var T=[f,u,o],F=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(function(){function t(){}return t.bootstrap=function(t){var e=this.resolveMeta(t),n=e.bootstrap;if(!n)throw"missing bootstrap";var r=e.node=this.querySelector(n.meta.selector);if(!r)throw"missing node "+n.meta.selector;e.nodeInnerHTML=r.innerHTML;e.pipes=this.resolvePipes(e);var o=e.factories=this.resolveFactories(e);this.sortFactories(o),o.unshift(n);e.selectors=this.unwrapSelectors(o);var i=new t;return i.meta=e,i.compile(r,window)[0].pushChanges(),i},t.querySelector=function(t){return document.querySelector(t)},t.resolveMeta=function(t){var e=this,n=Object.assign({imports:[],declarations:[],pipes:[],exports:[]},t.meta);return n.imports=n.imports.map((function(t){return e.resolveMeta(t)})),n},t.resolvePipes=function(t,e){var n=this,r=t.imports.map((function(t){return n.resolvePipes(t,!0)})),o={};return(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof $})).forEach((function(t){return o[t.meta.name]=t})),Object.assign.apply(Object,[{}].concat(r,[o]))},t.resolveFactories=function(t,e){var n,r=this,i=t.imports.map((function(t){return r.resolveFactories(t,!0)})),s=(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof f||t.prototype instanceof u||t.prototype instanceof o}));return(n=Array.prototype.concat).call.apply(n,[s].concat(i))},t.sortFactories=function(t){t.sort((function(t,e){var n=T.reduce((function(e,n,r){return t.prototype instanceof n?r:e}),-1)-T.reduce((function(t,n,r){return e.prototype instanceof n?r:t}),-1);return 0===n?(t.meta.hosts?1:0)-(e.meta.hosts?1:0):n}))},t.getExpressions=function(t){var e=[];return t.replace(/\.([\w\-\_]+)|\[(.+?\]*)(\=)(.*?)\]|\[(.+?\]*)\]|([\w\-\_]+)/g,(function(t,n,r,o,i,s,a){n&&e.push((function(t){return t.classList.contains(n)})),r&&e.push((function(t){return t.hasAttribute(r)&&t.getAttribute(r)===i||t.hasAttribute("["+r+"]")&&t.getAttribute("["+r+"]")===i})),s&&e.push((function(t){return t.hasAttribute(s)||t.hasAttribute("["+s+"]")})),a&&e.push((function(t){return t.nodeName.toLowerCase()===a.toLowerCase()}))})),e},t.unwrapSelectors=function(t){var e=this,n=[];return t.forEach((function(t){t.meta.selector.split(",").forEach((function(r){r=r.trim();var o=[],i=r.replace(/\:not\((.+?)\)/g,(function(t,n){return o=e.getExpressions(n),""})),s=e.getExpressions(i);n.push((function(e){var n=s.reduce((function(t,n){return t&&n(e)}),!0),i=o.reduce((function(t,n){return t||n(e)}),!1);return!(!n||i)&&{node:e,factory:t,selector:r}}))}))})),n},t.isBrowser=function(){return window},t}()),L=function(){function t(){}return t.delete=function(t){this.isLocalStorageSupported()&&window.localStorage.removeItem(t)},t.exist=function(t){if(this.isLocalStorageSupported())return void 0!==window.localStorage[t]},t.get=function(t){var e=null;if(this.isLocalStorageSupported()&&void 0!==window.localStorage[t])try{e=JSON.parse(window.localStorage[t])}catch(e){console.log("LocalStorageService.get.error parsing",t,e)}return e},t.set=function(t,e){if(this.isLocalStorageSupported())try{var n=[],r=JSON.stringify(e,(function(t,e){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}));window.localStorage.setItem(t,r)}catch(n){console.log("LocalStorageService.set.error serializing",t,e,n)}},t.isLocalStorageSupported=function(){if(this.supported)return!0;var t=!1;try{(t="localStorage"in window&&null!==window.localStorage)?(window.localStorage.setItem("test","1"),window.localStorage.removeItem("test")):t=!1}catch(e){t=!1}return this.supported=t,t},t}(),D=function(){function n(){}return n.set=function(t){return L.set("items",t),this.get$().next(t)},n.get$=function(){if(this.store$)return this.store$;var n=L.get("items");return n||(n=[{id:5,name:"Cookies",date:new Date(Date.now())},{id:4,name:"Pizza",date:new Date(2019,4,4,12)},{id:3,name:"Pasta",date:new Date(2019,3,22,12)},{id:2,name:"Bread",date:new Date(2019,0,6,12)},{id:1,name:"Ham",date:new Date(2018,11,30,12)}],L.set("items",n)),this.store$=new t.BehaviorSubject(n),this.store$.pipe(e.delay(1))},n.add$=function(n){var r=Object.assign({id:Date.now(),date:new Date(Date.now())},n),o=this.store$.getValue();return o.unshift(r),this.set(o),t.of(r).pipe(e.delay(1))},n.patch$=function(n){var r=this.store$.getValue(),o=r.find((function(t){return t.id===n.id}));return o&&(Object.assign(o,n),this.set(r)),t.of(o).pipe(e.delay(1))},n.delete$=function(n){var r=this.store$.getValue(),o=r.indexOf(n);return-1!==o&&(r.splice(o,1),this.set(r)),t.of(n).pipe(e.delay(1))},n}(),E=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.prototype.onInit=function(){var t=this,n=m(this);this.input=n.node.querySelector(".control--text"),this.items=[],this.store$=D.get$(),this.store$.pipe(e.takeUntil(this.unsubscribe$)).subscribe((function(e){t.items=e,t.pushChanges()}))},n.prototype.onInput=function(t){this.pushChanges()},n.prototype.onAddItem=function(t){var e=this;this.input.value&&D.add$({name:this.input.value}).subscribe((function(t){e.input.value=null}))},n.prototype.onToggleItem=function(t){D.patch$({id:t.id,done:!t.done}).subscribe((function(t){}))},n.prototype.onRemoveItem=function(t){D.delete$(t).subscribe((function(t){}))},n}(u);E.meta={selector:"[app-component]"};var M=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.transform=function(t,e,n){return void 0===e&&(e="it-IT-u-ca-gregory"),void 0===n&&(n={dateStyle:"short",timeStyle:"short"}),new Date(t).toLocaleDateString(e,n)},e}($);M.meta={name:"date"};var _=[{hex:"#ffffff",background:"#ffffff",foreground:"#003adc",accent:"#212121"},{hex:"#212121",background:"#212121",foreground:"#ffffff",accent:"#003adc"},{hex:"#ffffff",background:"#ffffff",foreground:"#212121",accent:"#003adc"},{hex:"#003adc",background:"#003adc",foreground:"#ffffff",accent:"#212121"}];function H(t,e){var n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+","+r+","+o+","+e+")":"rgb("+n+","+r+","+o+")"}var q=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.onChanges=function(t){var e,n;this.background=(e=this.item.id,H(_[e%_.length].background,n)),this.foreground=function(t,e){return H(_[t%_.length].foreground,e)}(this.item.id),this.accent=function(t,e){return H(_[t%_.length].accent,e)}(this.item.id)},n.onToggle=function(t){this.toggle.next(t)},n.onRemove=function(t){this.remove.next(t)},e}(u);q.meta={selector:"[todo-item-component]",inputs:["item"],outputs:["toggle","remove"]};var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(v);B.meta={imports:[j],declarations:[q,M],bootstrap:E},F.bootstrap(B)}));
//# sourceMappingURL=main.min.js.map