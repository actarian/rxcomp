/**
 * @license rxcomp v1.0.0
 * (c) 2021 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).rxcomp={},t.rxjs,t.rxjs.operators)}(this,(function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}var p=new Map,l=new Map,h=new Map,d=function(){function t(){}var n=t.prototype;return n.onInit=function(){},n.onChanges=function(t){},n.onView=function(){},n.onDestroy=function(){},n.pushChanges=function(){for(var t,e=v(this).childInstances,n=e.slice(),r=0,o=n.length;r<o;r++)t=n[r],-1!==e.indexOf(t)&&n[r].onParentDidChange(this);this.onView()},n.onParentDidChange=function(t){v(this).module.resolveInputsOutputs(this,t),this.onChanges(t),this.pushChanges()},t.mapExpression=function(t,e){return e},o(t,[{key:"unsubscribe$",get:function(){return this.unsubscribe$_||(this.unsubscribe$_=new e.Subject),this.unsubscribe$_}}]),t}();function v(t){return p.get(t)}var m=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(d),y=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).class="",e.keys=[],e}i(e,t);var n=e.prototype;return n.onInit=function(){var t=this,e=v(this).node;Array.prototype.slice.call(e.classList).forEach((function(e){t.keys.push(e)}))},n.onChanges=function(){var t=v(this).node,e=[],n=this.class;if("object"==typeof n)for(var r in n)n[r]&&e.push(r);else"string"==typeof n&&(e=n.split(/\s+/));e=e.concat(this.keys),t.setAttribute("class",e.join(" "))},e}(m);y.meta={selector:"[[class]]",inputs:["class"]};var g=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(f(Error)),b=function(t){function e(e,n,r,o,i){var s,a="ExpressionError in "+r.constructor.name+' "'+o+'"\n\t\t'+e.message;(s=t.call(this,a)||this).name=e.name,s.module=n,s.instance=r,s.expression=o,s.params=i;var u=v(r).node;return s.template=u.outerHTML,s}return i(e,t),e}(f(Error)),x=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),w=function(){function t(){}return t.prototype.handle=function(t){return e.of(t)},t}(),k=[],O=new e.ReplaySubject(1),E=O.pipe(n.switchMap((function(t){return k.reduceRight((function(t,e){return new x(t,e)}),new w).handle(t)})),n.tap((function(t){t&&console.error(t)}))),A=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).event="",e}return i(r,t),r.prototype.onInit=function(){var t=v(this),r=t.module,o=t.node,i=t.parentInstance,s=t.selector,a=this.event=s.replace(/\[|\]|\(|\)/g,""),u=e.fromEvent(o,a).pipe(n.shareReplay(1)),c=o.getAttribute("("+a+")");if(c){var f=r.makeFunction(c,["$event"]);u.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){r.resolve(f,i,t)}))}else i[a+"$"]=u},r}(m);A.meta={selector:"[("+["mousedown","mouseup","mousemove","click","dblclick","mouseover","mouseout","mouseenter","mouseleave","contextmenu","touchstart","touchmove","touchend","keydown","keyup","input","change","loaded"].join(")],[(")+")]"};var C=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(d),_=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.pushChanges=function(){for(var t,e=v(this),n=e.module,r=e.node,o=e.childInstances,i=o.slice(),s=0,a=i.length;s<a;s++)t=i[s],-1!==o.indexOf(t)&&i[s].onParentDidChange(this);n.parse(r,this),this.onView()},e}(d),j=function(t){function e(e){var n;return(n=t.call(this)||this).parentInstance=e,n}return i(e,t),e.prototype.onParentDidChange=function(t){this.onChanges(t),this.pushChanges()},e}(_),I=function(t){function e(e,n,r,o,i,s,a){var u;return(u=t.call(this,a)||this)[e]=n,u[r]=o,u.index=i,u.count=s,u}return i(e,t),o(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(j),T=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).instances=[],e}i(e,t);var n=e.prototype;return n.onInit=function(){var t=v(this).node,n=t.getAttribute("*for");this.tokens=e.getForExpressionTokens(n);var r=this.nodeRef=document.createComment("*for");t.parentNode.replaceChild(r,t),t.removeAttribute("*for")},n.onChanges=function(){for(var t=v(this),e=t.module,n=t.node,r=t.selector,o=t.parentInstance,i=this.nodeRef,s=this.tokens,a=this.for||[],u=Array.isArray(a),c=u?a:Object.keys(a),f=c.length,p=this.instances,l=p.length,h=0,d=Math.max(l,f);h<d;h++)if(h<f){var m=u?h:c[h],y=u?c[m]:a[m];if(h<l){var g=p[h];g[s.key]=m,g[s.value]=y}else{var b=n.cloneNode(!0);i.parentNode.insertBefore(b,i);var x=[s.key,m,s.value,y,h,f,o],w=e.makeInstance(b,I,r,o,x);w&&(e.compile(b,w),p.push(w))}}else{var k=v(p[h]).node;k.parentNode.removeChild(k),e.remove(k)}p.length=f},e.mapExpression=function(t,e){return this.getForExpressionTokens(e).iterable},e.getForExpressionTokens=function(t){if(void 0===t&&(t=null),null==t)throw new Error("invalid for");if(-1===t.trim().indexOf("let ")||-1===t.trim().indexOf(" of "))throw new Error("invalid for");var e=t.split(";").map((function(t){return t.trim()})).filter((function(t){return""!==t})),n=e[0].split(" of ").map((function(t){return t.trim()})),r=n[0].replace(/\s*let\s*/,""),o=n[1],i="index",s=r.match(/\[(.+)\s*,\s*(.+)\]/);if(s&&(i=s[1],r=s[2]),e.length>1){var a=e[1].split(/\s*let\s*|\s*=\s*index/).map((function(t){return t.trim()}));3===a.length&&(i=a[1])}return{key:i,value:r,iterable:o}},e}(C);T.meta={selector:"[*for]",inputs:["for"]};var N=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),o(e,[{key:"target",set:function(t){if(this.target_!==t){this.target_=t;var e=v(this).node;t?e.setAttribute("target",t):e.removeAttribute("target")}},get:function(){return this.target_}}]),e}(m);N.meta={selector:"[[target]]",inputs:["target"]};var M=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),o(e,[{key:"href",set:function(t){if(this.href_!==t){this.href_=t;var e=v(this).node;t?e.setAttribute("href",t):e.removeAttribute("href")}},get:function(){return this.href_}}]),e}(m);M.meta={selector:"[[href]]",inputs:["href"]};var P=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onInit=function(){var t=v(this).node,e=this.nodeRef=document.createComment("*if");t.parentNode.replaceChild(e,t);var n=t.cloneNode(!0);n.removeAttribute("*if"),this.clonedNode=n,this.element=n.cloneNode(!0)},n.onChanges=function(){var t=v(this),e=t.module,n=t.parentInstance,r=this.element;if(Boolean(this.if)){if(!r.parentNode){var o=this.nodeRef;o.parentNode.insertBefore(r,o),e.compile(r,n)}}else r.parentNode&&(e.remove(r,this),r.parentNode.removeChild(r),this.element=this.clonedNode.cloneNode(!0))},e}(C);P.meta={selector:"[*if]",inputs:["if"]};var S=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),o(e,[{key:"innerHTML",set:function(t){this.innerHTML_!==t&&(this.innerHTML_=t,v(this).node.innerHTML=null==t?"":t)},get:function(){return this.innerHTML_}}]),e}(m);S.meta={selector:"[innerHTML]",inputs:["innerHTML"]};var F=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).active=!1,e}return i(e,t),e.prototype.onToggle=function(){this.active=!this.active,this.pushChanges()},e}(_);F.meta={selector:"json-component",inputs:["item"],template:'\n\t\t<div class="rxc-block">\n\t\t\t<div class="rxc-head">\n\t\t\t\t<span class="rxc-head__title" (click)="onToggle()">\n\t\t\t\t\t<span *if="!active">+ json </span>\n\t\t\t\t\t<span *if="active">- json </span>\n\t\t\t\t\t<span [innerHTML]="item"></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<ul class="rxc-list" *if="active">\n\t\t\t\t<li class="rxc-list__item">\n\t\t\t\t\t<span class="rxc-list__value" [innerHTML]="item | json"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>'};var $=function(){function t(){}return t.transform=function(t){return t},t}(),L=[C,_,m],H=function(){function t(){}return t.bootstrap=function(t){if(!t)throw new g("missing moduleFactory");if(!t.meta)throw new g("missing moduleFactory meta");if(!t.meta.bootstrap)throw new g("missing bootstrap");if(!t.meta.bootstrap.meta)throw new g("missing bootstrap meta");if(!t.meta.bootstrap.meta.selector)throw new g("missing bootstrap meta selector");var e=this.resolveMeta(t),n=new t;return n.meta=e,e.imports.forEach((function(t){t.prototype.constructor.call(n)})),n},t.querySelector=function(t){return document.querySelector(t)},t.resolveMeta=function(t){var e=this.resolveImportedMeta(t),n=t.meta.bootstrap,r=this.querySelector(n.meta.selector);if(!r)throw new g("missing node "+n.meta.selector);var o=r.innerHTML,i=this.resolvePipes(e),s=this.resolveFactories(e);return this.sortFactories(s),s.unshift(n),{factories:s,pipes:i,selectors:this.unwrapSelectors(s),bootstrap:n,node:r,nodeInnerHTML:o,imports:t.meta.imports||[]}},t.resolveImportedMeta=function(t){var e=this,n=Object.assign({imports:[],declarations:[],pipes:[],exports:[]},t.meta);return n.imports=(t.meta.imports||[]).map((function(t){return e.resolveImportedMeta(t)})),n},t.resolvePipes=function(t,e){var n=this,r=t.imports.map((function(t){return n.resolvePipes(t,!0)})),o={};return(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof $})).forEach((function(t){return o[t.meta.name]=t})),Object.assign.apply(Object,[{}].concat(r,[o]))},t.resolveFactories=function(t,e){var n,r=this,o=t.imports.map((function(t){return r.resolveFactories(t,!0)})),i=(e?t.exports:t.declarations).filter((function(t){return t.prototype instanceof d}));return(n=Array.prototype.concat).call.apply(n,[i].concat(o))},t.sortFactories=function(t){t.sort((function(t,e){var n=L.reduce((function(e,n,r){return t.prototype instanceof n?r:e}),-1)-L.reduce((function(t,n,r){return e.prototype instanceof n?r:t}),-1);return 0===n?(t.meta.hosts?1:0)-(e.meta.hosts?1:0):n}))},t.getExpressions=function(t){var e=[];return t.replace(/\.([\w\-\_]+)|\[(.+?\]*)(\=)(.*?)\]|\[(.+?\]*)\]|([\w\-\_]+)/g,(function(t,n,r,o,i,s,a){return n&&e.push((function(t){return t.classList.contains(n)})),r&&e.push((function(t){return t.hasAttribute(r)&&t.getAttribute(r)===i||t.hasAttribute("["+r+"]")&&t.getAttribute("["+r+"]")===i})),s&&e.push((function(t){return t.hasAttribute(s)||t.hasAttribute("["+s+"]")})),a&&e.push((function(t){return t.nodeName.toLowerCase()===a.toLowerCase()})),""})),e},t.unwrapSelectors=function(t){var e=this,n=[];return t.forEach((function(t){t.meta&&t.meta.selector&&t.meta.selector.split(",").forEach((function(r){r=r.trim();var o=[],i=r.replace(/\:not\((.+?)\)/g,(function(t,n){return o=e.getExpressions(n),""})),s=e.getExpressions(i);n.push((function(e){return!!s.reduce((function(t,n){return t&&n(e)}),!0)&&(!(o.length&&o.reduce((function(t,n){return t||n(e)}),!1))&&{node:e,factory:t,selector:r})}))}))})),n},t}(),D="undefined"!=typeof window&&void 0!==window.document,R="undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Node.js")||"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("jsdom"),B="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,W="object"==typeof self&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,J=B,q=!B&&D,z=W,Z=function(){function t(){}return t.encode=function(t,e){return void 0===e&&(e=[U]),e.reduce((function(t,e){return e(t)}),t)},t.decode=function(t,e){return void 0===e&&(e=[G]),e.reduce((function(t,e){return e(t)}),t)},t.encodeJson=function(t){return this.encode(t,[U])},t.decodeJson=function(t){return this.decode(t,[G])},t.encodeBase64=function(t){return this.encode(t,[U,K])},t.decodeBase64=function(t){return this.decode(t,[Q,G])},t}();function U(t,e,n){var r;try{var o=[];r=JSON.stringify(t,(function(t,n){if("object"==typeof n&&null!=n){if(-1!==o.indexOf(n))return e;o.push(n)}return n}),n)}catch(t){}return r}function V(t,e){return function(n){return U(n,t,e)}}function G(t){var e;if(t)try{e=JSON.parse(t)}catch(t){}return e}function K(t){var e;try{e=q?btoa(t):Buffer.from(t).toString("base64")}catch(n){e=t}return e}function Q(t){var e;try{e=q?atob(t):Buffer.from(t,"base64").toString()}catch(n){e=t}return e}var X=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.transform=function(t){return Z.encode(t,[V("#ref",2)])},e}($);X.meta={name:"json"};var Y=function(){function t(){this.unsubscribe$=new e.Subject}var r=t.prototype;return r.compile=function(t,e,n){if(void 0===n&&(n=[]),1===t.nodeType){for(var r=this.meta.selectors,o=[],i=Array.prototype.slice.call(t.childNodes),s=!1,a=0,u=r.length;a<u;a++){var c=r[a](t);if(c){o.push(c);var f=c.factory;if(f.prototype instanceof C){s=!0;break}f.prototype instanceof _&&f.meta.template&&(t.innerHTML=f.meta.template)}}for(var p=e,l=0,h=o.length;l<h;l++){var d=o[l],v=this.makeInstance(d.node,d.factory,d.selector,e);v&&(n.push(v),d.factory.prototype instanceof _&&(p=v))}if(!s)for(var m=0,y=i.length;m<y;m++)this.compile(i[m],p,n)}return n},r.makeInstance=function(e,n,r,o,i,s){var a=n.meta,u=c(n,i||[]);if(null!=s)for(var f=0,p=Object.keys(s),l=p.length;f<l;f++){var h=p[f];Object.defineProperty(u,h,{value:s[h],configurable:!1,enumerable:!1,writable:!0})}var m=t.makeContext(this,u,o,e,n,r);(u instanceof j||(this.makeHosts(a,u,e),m.inputs=this.makeInputs(a,e,n),m.outputs=this.makeOutputs(a,u),this.resolveInputsOutputs(u,o)),u.onInit(),o instanceof d)&&(v(o).childInstances.push(u),u.onParentDidChange(o));return u},r.makeFunction=function(e,n){void 0===n&&(n=["$instance"]);var r=e+"_"+n.join(","),o=h.get(r);if(o)return o;this.meta.context=j,e=t.parseExpression(e);var i="\n\t\t\treturn (function ("+n.join(",")+", $$module) {\n\t\t\t\tvar $$pipes = $$module.meta.pipes;\n\t\t\t\ttry {\n\t\t\t\t\tif (this.parentInstance) {\n\t\t\t\t\t\twith(this.parentInstance) {\n\t\t\t\t\t\t\twith(this) {\n\t\t\t\t\t\t\t\treturn "+e+";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\twith(this) {\n\t\t\t\t\t\t\treturn "+e+";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\t$$module.nextError(error, this, "+JSON.stringify(e)+", arguments);\n\t\t\t\t}\n\t\t\t}.bind(this)).apply(this, arguments);",s=new Function(i);return s.expression=e,h.set(r,s),s},r.resolveInputsOutputs=function(t,e){for(var n=v(t),r=n.parentInstance,o=n.inputs,i=0,s=Object.keys(o),a=s.length;i<a;i++){var u=s[i],c=o[u],f=this.resolve(c,r,t);t[u]=f}},r.getInputAttributeExpression=function(t,e){var n=null;if(e.hasAttribute("["+t+"]"))n=e.getAttribute("["+t+"]");else if(e.hasAttribute("*"+t))n=e.getAttribute("*"+t);else if(e.hasAttribute(t)&&(n=e.getAttribute(t))){var r=n.replace(/({{)|(}})|(")/g,(function(t,e,n,r){return e?'"+':n?'+"':r?'"':""}));n='"'+r+'"'}return n},r.resolve=function(t,e,n){return t.apply(e,[n,this])},r.parse=function(t,e){for(var n=0,r=t.childNodes.length;n<r;n++){var o=t.childNodes[n];if(1===o.nodeType){var i=o;tt(i)||this.parse(i,e)}else if(3===o.nodeType){var s=o;this.parseTextNode(s,e)}}},r.remove=function(e,n){var r=n?v(n):void 0;return t.traverseDown(e,(function(e){t.deleteContext(e,r)})),e},r.destroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.remove(this.meta.node),this.meta.node.innerHTML=this.meta.nodeInnerHTML},r.nextError=function(t,e,n,r){var o=new b(t,this,e,n,r);O.next(o)},r.makeContext=function(e,n,r,o){return t.makeContext(this,e,n,r,e.constructor,o)},r.makeHosts=function(t,e,n){if(t.hosts)for(var r=0,o=Object.keys(t.hosts),i=o.length;r<i;r++){var s=o[r],a=t.hosts[s];e[s]=et(e,a,n)}},r.makeInputs=function(t,e,n){var r={};if(t.inputs)for(var o=0,i=t.inputs.length;o<i;o++){var s=t.inputs[o],a=this.getInputAttributeExpression(s,e);a&&(a=n.mapExpression(s,a),r[s]=this.makeFunction(a))}return r},r.makeOutput=function(t,r){var o=this,i=v(t),s=i.node,a=i.parentInstance,u=s.getAttribute("("+r+")"),c=u?this.makeFunction(u,["$event"]):null,f=(new e.Subject).pipe(n.tap((function(t){c&&o.resolve(c,a,t)})));return f.pipe(n.takeUntil(t.unsubscribe$)).subscribe(),t[r]=f,f},r.makeOutputs=function(t,e){var n=this,r={};return t.outputs&&t.outputs.forEach((function(t){var o=n.makeOutput(e,t);o&&(r[t]=o)})),r},r.parseTextNode=function(t,e){var n=this,r=t.nodeExpressions;if(r||(r=this.parseTextNodeExpression(t.wholeText)),r.length){var o=r.reduce((function(t,r){var o;return"function"==typeof r?null==(o=n.resolve(r,e,e))&&(o=""):o=r,t+o}),"");if(t.nodeValue!==o){var i=document.createTextNode(o);i.nodeExpressions=r,t.parentNode.replaceChild(i,t)}}else t.nodeExpressions=r},r.pushFragment=function(t,e,n,r){var o=t.substring(e,n);r.push(o)},r.parseTextNodeExpression=function(t){for(var e,n=[],r=/\{{2}((([^{}])|(\{([^{}]|(\{.*?\}))+?\}))*?)\}{2}/g,o=0;null!==(e=r.exec(t));){var i=r.lastIndex-e[0].length;if(i>o&&this.pushFragment(t,i,o,n),o=r.lastIndex,e[1]){var s=this.makeFunction(e[1]);n.push(s)}}var a=t.length;return a>o&&this.pushFragment(t,o,a,n),n.find((function(t){return"function"==typeof t}))?n:[]},t.makeContext=function(t,e,n,r,o,i){var s={module:t,instance:e,parentInstance:n,childInstances:[],node:r,factory:o,selector:i},a=l.get(r);return a||(a=[],l.set(r,a)),a.push(s),p.set(e,s),s},t.parseExpression=function(e){return e=t.parseGroup(e),e=t.parseOptionalChaining(e)},t.parseGroup=function(e){for(var n=/(\()([^\(\)]*)(\))/;n.test(e);)e=e.replace(n,(function(e){return"┌"+t.parsePipes(arguments.length<=2?void 0:arguments[2])+"┘"}));return e=(e=t.parsePipes(e)).replace(/(┌)|(┘)/g,(function(t){return(arguments.length<=1?void 0:arguments[1])?"(":")"}))},t.parsePipes=function(e){for(var n=/(.*?[^\|])\|\s*(\w+)\s*([^\|]+)?/;n.test(e);)e=e.replace(n,(function(e,n,r,o){var i=t.parsePipeParams(o);return"$$pipes."+r+".transform("+[n].concat(i)+")"}));return e},t.parsePipeParams=function(t){for(var e,n=[],r=/:\s*(\{.+\}|\(.+\)|[^:]+)/g;e=r.exec(t);)n.push(e[1]);return n},t.parseOptionalChaining=function(t){for(var e=/([\w|\.]+)(?:\?\.)+([\.|\w]+)/;e.test(t);)t=t.replace(e,(function(t,e,n){return e+" && "+e+"."+n}));return t},t.parseThis=function(t){return t=t.replace(/(\'.+\'|\[.+\]|\{.+\}|\$\$pipes)|([^\w.])([^\W\d])|^([^\W\d])/g,(function(t,e,n,r,o){return o?"this."+o:r?n+"this."+r:e}))},t.removeFromParentInstance=function(t,e){if(e instanceof d){var n=v(e);if(n){var r=n.childInstances.indexOf(t);-1!==r&&n.childInstances.splice(r,1)}}},t.deleteContext=function(e,n){var r=[],o=l.get(e);return o&&(o.forEach((function(e){if(e===n)r.push(n);else{var o=e.instance;t.removeFromParentInstance(o,e.parentInstance),o.unsubscribe$.next(),o.unsubscribe$.complete(),o.onDestroy(),p.delete(o)}})),r.length?l.set(e,r):l.delete(e)),r},t.traverseUp=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseUp(t.parentNode,e,n+1)}},t.traverseDown=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);if(r)return r;if(1===t.nodeType)for(var o=0,i=t.childNodes.length;o<i&&!r;)r=this.traverseDown(t.childNodes[o],e,n+1),o++;return r}},t.traversePrevious=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traversePrevious(t.previousSibling,e,n+1)}},t.traverseNext=function(t,e,n){if(void 0===n&&(n=0),t){var r=e(t,n);return r||this.traverseNext(t.nextSibling,e,n+1)}},t}();function tt(t){var e,n=l.get(t);return n&&(e=n.reduce((function(t,e){return e.instance instanceof j?t||e:e.instance instanceof _?e:t}),void 0)),e}function et(t,e,n){n||(n=v(t).node);var r=l.get(n);if(r)for(var o=0,i=r.length;o<i;o++){var s=r[o];if(s.instance!==t&&s.instance instanceof e)return s.instance}return n.parentNode?et(t,e,n.parentNode):void 0}var nt=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),o(e,[{key:"src",set:function(t){if(this.src_!==t){this.src_=t;var e=v(this).node;t?e.setAttribute("src",t):e.removeAttribute("src")}},get:function(){return this.src_}}]),e}(m);nt.meta={selector:"[[src]]",inputs:["src"]};var rt=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.onChanges=function(){var t=v(this).node,e=this.style,n=this.previousStyle;if(n)for(var r in n)if(!e||!e[r]){var o=r.split(".").shift();t.style.removeProperty(o)}if(e)for(var i in e)if(!n||n[i]!==e[i]){var s=i.split("."),a=s.shift(),u=e[i]+(s.length?s[0]:"");t.style.setProperty(a,u)}this.previousStyle=e},e}(m);rt.meta={selector:"[[style]]",inputs:["style"]};var ot=[y,A,T,M,N,P,S,F,nt,rt],it=[X],st=function(t){function e(){var e;return e=t.call(this)||this,E.pipe(n.takeUntil(e.unsubscribe$)).subscribe(),e}return i(e,t),e}(Y);st.meta={declarations:[].concat(ot,it),exports:[].concat(ot,it)};var at="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,ut=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.bootstrap=function(t){if(!q)throw new g("missing platform browser, Window not found");if(!t)throw new g("missing moduleFactory");if(!t.meta)throw new g("missing moduleFactory meta");if(!t.meta.bootstrap)throw new g("missing bootstrap");if(!t.meta.bootstrap.meta)throw new g("missing bootstrap meta");if(!t.meta.bootstrap.meta.selector)throw new g("missing bootstrap meta selector");var e=this.resolveMeta(t),n=new t;if(n.meta=e,e.imports.forEach((function(t){t.prototype.constructor.call(n)})),at.rxcomp_hydrate_){var r,o=e.node.cloneNode();o.innerHTML=e.nodeInnerHTML=at.rxcomp_hydrate_.innerHTML;var i=n.compile(o,at);n.instances=i,null==(r=e.node.parentNode)||r.replaceChild(o,e.node)}else{var s=n.compile(e.node,at);n.instances=s}return n},e}(H);var ct=function(){function t(){}return t.makeKey=function(t,e){var n="rxcomp-hydrate-"+t+"-"+(e?ft(e):"");return n=n.replace(/(\s+)|(\W+)/g,(function(){return(arguments.length<=1?void 0:arguments[1])?"":"_"}))},t.has=function(t){return null!==document.querySelector("#"+t)},t.get=function(t){var e=document.querySelector("#"+t);if(e&&e.firstChild){var n=e.firstChild.nodeValue;return n?Z.decode(n,[G]):void 0}},t.set=function(t,e){var n=Z.encode(e,[U]);if(n){var r=document.createTextNode(n),o=document.querySelector("#"+t);o?o.replaceChild(r,o.firstChild):((o=document.createElement("script")).setAttribute("id",t),o.setAttribute("type","text/template"),o.append(r),document.head.append(o))}},t.remove=function(t){var e=document.querySelector("#"+t);e&&e.parentNode&&e.parentNode.removeChild(e)},t}();function ft(t,e){return void 0===e&&(e=""),"number"==typeof t?e+="-"+t.toString():"string"==typeof t?e+="-"+t.substr(0,20):t&&Array.isArray(t)?e+="-"+t.map((function(t){return ft(t)})).join(""):t&&"object"==typeof t&&(e+="-"+Object.keys(t).map((function(e){return e+ft(t[e])})).join("-")),e}t.Browser=ut,t.ClassDirective=y,t.Component=_,t.Context=j,t.CoreModule=st,t.DefaultErrorHandler=w,t.Directive=m,t.ErrorInterceptorHandler=x,t.ErrorInterceptors=k,t.EventDirective=A,t.ExpressionError=b,t.Factory=d,t.ForItem=I,t.ForStructure=T,t.HrefDirective=M,t.HrefTargetDirective=N,t.IfStructure=P,t.InnerHtmlDirective=S,t.JsonComponent=F,t.JsonPipe=X,t.Module=Y,t.ModuleError=g,t.PLATFORM_BROWSER=D,t.PLATFORM_JS_DOM=R,t.PLATFORM_NODE=B,t.PLATFORM_WEB_WORKER=W,t.Pipe=$,t.Platform=H,t.Serializer=Z,t.SrcDirective=nt,t.Structure=C,t.StyleDirective=rt,t.TransferService=ct,t.WINDOW=at,t.decodeBase64=Q,t.decodeJson=G,t.encodeBase64=K,t.encodeJson=U,t.encodeJsonWithOptions=V,t.errors$=E,t.getContext=v,t.getContextByNode=function(t){var e=tt(t);if(!(e&&e.factory.prototype instanceof C))return e},t.getHost=et,t.getLocationComponents=function(t){for(var e,n="",r="",o="",i="",s="",a="",u="",c=/^((http\:|https\:)?\/\/)?((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])|(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])|locahost)?(\:([^\/]+))?(\.?\/[^\?]+)?(\?[^\#]+)?(\#.+)?$/g,f=[];null!==(e=c.exec(t));)f.push(e);for(var p=0,l=f;p<l.length;p++){var h=l[p];n=h[2]||"",r=o=h[3]||"",i=h[11]||"",s=h[12]||"",a=h[13]||"",u=h[14]||""}return{href:t,protocol:n,host:r,hostname:o,port:i,pathname:s,search:a,hash:u}},t.getParsableContextByElement=tt,t.isPlatformBrowser=q,t.isPlatformServer=J,t.isPlatformWorker=z,t.nextError$=O,t.optionsToKey=ft,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=rxcomp.min.js.map